
<body>
  <!-- Main overlay -->
  <div class="overlay">
    <img src="https://cdn.hackclubber.dev/slackcdn/8135397394c51a9e90c4ea463f242deb.png" alt="Profile Picture of Souptik Samanta" class="profile-pic" />
    <div class="name">Souptik Samanta</div>
    <div class="subtitle"><span id="greeting"></span> Hobbyist | Coder | Maker</div>
    <div id="time-display" class="time"></div>
  </div>
  
  <img id="mountain-image" src="https://cdn.hackclubber.dev/slackcdn/baec48be97ced99c00f0bacae4a564be.jpg" alt="Mountain View" class="mountain-image" />
  
  <div id="app" class="container">
    <header class="hero">
      <div class="buttons">
        <button onclick="scrollToSection('about')">About Me</button>
        <button onclick="scrollToSection('projects')">Projects</button>
        <button onclick="scrollToSection('skills')">Skills</button>
        <button onclick="scrollToSection('testimonials')">Testimonials</button>
        <button onclick="scrollToSection('blog')">Blog</button>
        <!-- Uncomment if needed: <button onclick="window.location.href='./contact-form/public/index.html'">Contact Me</button> -->
        <button onclick="scrollToSection('now-playing')">Now Playing</button>
      </div>
    </header>
    <main>
      <!-- About Section -->
      <section id="about" class="section">
        <h2>About Me</h2>
        <p>
          I am a passionate maker who loves technologies and is ready to collaborate with anyone as a team member.
          <br />
          I am a self-taught programmer who is always eager to learn new things and explore technologies.
          <br />
          Currently in Class 10th (ICSE) at Agrasain Boys School in Kolkata, India.
          <br />
          This website was made to showcase my projects and skills.
        </p>
      </section>
      
<!-- Dynamic Projects Section -->
<section id="projects" class="section">
  <h2>Projects</h2>
  <div id="projects-container">
    <p>Loading projects...</p>
  </div>
</section>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Fetch the projects data from data.json
    fetch("data.json")
        .then(response => {
          if (!response.ok) {
            throw new Error("Network response was not ok " + response.statusText);
          }
          return response.json();
        })
        .then(projects => displayProjects(projects))
        .catch(error => {
          console.error("Error fetching projects:", error);
          document.getElementById("projects-container").innerHTML =
            "<p>Error loading projects.</p>";
        });
      
      
      // For demo purposes, using the sample data
      displayProjects(projectsData);
      
      function displayProjects(projects) {
        const container = document.getElementById("projects-container");
        container.innerHTML = ""; // Clear the "Loading projects..." message

        projects.forEach(project => {
          // Create a card for each project
          const projectCard = document.createElement("div");
          projectCard.classList.add("project-card");

          // Display the project number
          const projectNumber = document.createElement("p");
          projectNumber.classList.add("project-number");
          projectNumber.textContent = "#" + project.projectNumber;
          projectCard.appendChild(projectNumber);

          // Card header with title
          const cardHeader = document.createElement("div");
          cardHeader.classList.add("card-header");
          
          const title = document.createElement("h3");
          title.textContent = project.title;
          cardHeader.appendChild(title);
          
          projectCard.appendChild(cardHeader);

          // Card content container
          const cardContent = document.createElement("div");
          cardContent.classList.add("card-content");
          
          // Image container
          const cardImage = document.createElement("div");
          cardImage.classList.add("card-image");
          
          if (project.img) {
            const img = document.createElement("img");
            img.src = project.img;
            img.alt = project.title;
            cardImage.appendChild(img);
          }
          
          cardContent.appendChild(cardImage);
          
          // Card details (description and buttons)
          const cardDetails = document.createElement("div");
          cardDetails.classList.add("card-details");
          
          // Add description if available
          if (project.description) {
            const description = document.createElement("p");
            description.classList.add("project-description");
            description.textContent = project.description;
            cardDetails.appendChild(description);
          }
          
          // Buttons container
          const buttonsDiv = document.createElement("div");
          buttonsDiv.classList.add("project-buttons");

          // Repo button with GitHub logo
          if (project.repo) {
            const repoButton = document.createElement("button");
            repoButton.classList.add("btn", "btn-repo");
            repoButton.innerHTML = `
              <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
                <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
              </svg>
              Repo
            `;
            repoButton.addEventListener("click", function() {
              window.open(project.repo, "_blank");
            });
            buttonsDiv.appendChild(repoButton);
          }

          // Demo button
          if (project.demo) {
            const demoButton = document.createElement("button");
            demoButton.classList.add("btn", "btn-demo");
            demoButton.innerHTML = `
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
              Demo
            `;
            demoButton.addEventListener("click", function() {
              window.open(project.demo, "_blank");
            });
            buttonsDiv.appendChild(demoButton);
          }

          cardDetails.appendChild(buttonsDiv);
          cardContent.appendChild(cardDetails);
          projectCard.appendChild(cardContent);
          
          container.appendChild(projectCard);
        });
      }
    });
  </script>

      <!-- Skills Section -->
      <section id="skills" class="section">
        <h2>Skills</h2>
        <ul>
          <li>Programming Languages: Python, JavaScript, C++</li>
          <li>Technologies: HTML, CSS, React, Node.js</li>
          <li>Tools: GitHub, GitLab, Jupyter Notebook</li>
          <li>Hardware: 3D Printing, Soldering, PCB Design</li>
        </ul>
      </section>
      
      <!-- Testimonials Section -->
      <section id="testimonials" class="section">
        <h2>Testimonials</h2>
        <div class="testimonial">
          <blockquote>
            "Souptik is a brilliant young maker and coder. His projects are innovative and well-documented."
            <cite>- Dr. Sebastian Raschka</cite>
          </blockquote>
          <blockquote>
            "I had the pleasure of working with Souptik on a project. He is highly skilled and a great team player."
            <cite>- Zach Latta, CEO Hack Club</cite>
          </blockquote>
        </div>
      </section>
      
      <!-- Blog Section -->
      <section id="blog" class="section">
        <h2>Blog</h2>
        <div class="blog-post">
          <h3>Building a Custom 3D Printer</h3>
          <p>Learn how I built my own 3D printer from scratch.</p>
          <a href="https://souptik.me/blog/3d-printer" style="color: beige" target="_blank">Read More</a>
        </div>
        <div class="blog-post">
          <h3>Creating a Large Language Model</h3>
          <p>Exploring the process of building a large language model from scratch.</p>
          <a href="https://souptik.me/blog/llm" style="color: beige" target="_blank">Read More</a>
        </div>
      </section>
      
      <!-- Recent Updates Section -->
      <section id="news" class="section">
        <h2>Recent Updates</h2>
        <ul>
          <li>New blog post: "Building a Custom 3D Printer" - <a href="./blog/index.html" style="color: beige" target="_blank">Read More</a></li>
          <li>Featured on Hack Club Blog - <a href="https://hackclub.com/blog/souptik-samanta" style="color: beige" target="_blank">Read Article</a></li>
          <li>Updated my LLM project - <a href="https://github.com/souptik-samanta/llm" style="color: beige" target="_blank">View Changes</a></li>
        </ul>
      </section>
      
      <!-- Now Playing Section -->
      <section id="now-playing" class="section">
        <h2>Now Playing</h2>
        <div id="spotify-container" style="display: flex; align-items: center;">
          <img id="album-art" src="public/img/demo_album.png" alt="Album Art" width="100" height="100" style="margin-right: 20px;">
          <div id="song-info" style="flex: 1;">
            <div id="song-title" style="font-size: 1.2em; font-weight: bold;">Loading...</div>
            <div id="artist-name" style="margin-bottom: 10px;">Please wait</div>
            <div id="progress-bar" style="width: 100%; background: #ddd; height: 10px; border-radius: 5px; overflow: hidden; margin-bottom: 5px;">
              <div id="progress" style="background: #1db954; height: 100%; width: 0;"></div>
            </div>
            <div id="time-info" style="font-size: 0.9em;">0:00 / 0:00</div>
          </div>
        </div>
      </section>
    </main>
  </div>
  
  <p style="text-align: center;">
    <a class="copyright" href="https://github.com/souptik-samanta">© 2024 Souptik Samanta</a>
  </p>
  
  <!-- Client-side Scripts -->
  <script>
    // Smooth scroll utility.
    function scrollToSection(id) {
      var element = document.getElementById(id);
      if (element) element.scrollIntoView({ behavior: "smooth" });
    }
    
    // Utility to format seconds as M:SS.
    function formatTime(seconds) {
      var mins = Math.floor(seconds / 60);
      var secs = seconds % 60;
      return mins + ":" + (secs < 10 ? "0" : "") + secs;
    }
    
    // --- Now Playing Logic ---
    // Calls the server-side /now-playing endpoint to fetch track info and elapsed time.
    function updateNowPlaying() {
      $.getJSON('/now-playing', function(data) {
        if (data.nowPlaying) {
          $("#song-title").text(data.track.name);
          $("#artist-name").text(data.track.artist);
          $("#album-art").attr("src", data.track.albumArt);
          var progressPercent = Math.min((data.elapsed / data.track.duration) * 100, 100);
          $("#progress").css("width", progressPercent + "%");
          $("#time-info").text(formatTime(data.elapsed) + " / " + formatTime(data.track.duration));
        } else {
          if (data.track) {
            $("#song-title").text(data.track.name);
            $("#artist-name").text(data.track.artist);
            $("#album-art").attr("src", data.track.albumArt);
          }
          if (data.lastPlayed) {
            $("#time-info").text("Last played: " + data.lastPlayed);
          } else {
            $("#time-info").text("Not currently playing");
          }
          $("#progress").css("width", "100%");
        }
      }).fail(function(err){
        console.error("Error fetching now playing data", err);
      });
    }
    
    // --- Dynamic Projects Section ---
    // Fetches projects from the /projects endpoint (data from data.json) and injects them into the DOM.
    function loadProjects() {
      $.getJSON('/projects', function(data) {
        var container = $("#projects-container");
        container.empty();
        if (data.length === 0) {
          container.append("<p>No projects added yet.</p>");
        } else {
          data.forEach(function(project) {
            var projectCard = $("<div>").addClass("project-card");
            if (project.img) {
              var img = $("<img>")
                .attr("src", project.img)
                .attr("alt", project.title)
                .css({ width: "200px", height: "auto" });
              projectCard.append(img);
            }
            var title = $("<h3>").text(project.title);
            projectCard.append(title);
            var buttonsDiv = $("<div>").addClass("project-buttons");
            if (project.repo) {
              var repoButton = $("<button>")
                .text("Repo")
                .click(function() { window.open(project.repo, "_blank"); });
              buttonsDiv.append(repoButton);
            }
            if (project.link) {
              var demoButton = $("<button>")
                .text("Demo")
                .click(function() { window.open(project.link, "_blank"); });
              buttonsDiv.append(demoButton);
            }
            projectCard.append(buttonsDiv);
            container.append(projectCard);
          });
        }
      });
    }
    
    $(document).ready(function() {
      updateNowPlaying();
      // Update now playing every 5 seconds.
      setInterval(updateNowPlaying, 5000);
      
      loadProjects();
      // Optionally refresh projects every minute.
      setInterval(loadProjects, 60000);
    });
  </script>
  <script src="./script.js"></script>
</body>
</html>
